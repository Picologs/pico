# Database
# Neon PostgreSQL connection string from: https://neon.tech
DATABASE_URL="postgresql://user:password@host/database"

# Authentication
# JWT secret for signing tokens - Generate with: openssl rand -hex 32
# Must match the JWT_SECRET in bun-server for WebSocket authentication
JWT_SECRET="your-secure-jwt-secret-at-least-32-characters-long"

# Discord OAuth Configuration
# Create a Discord app at: https://discord.com/developers/applications
# Set redirect URI to match DISCORD_REDIRECT_URI below
DISCORD_CLIENT_ID="your-discord-client-id"
DISCORD_CLIENT_SECRET="your-discord-client-secret"
DISCORD_REDIRECT_URI="https://picologs.com/auth/callback"

# File Uploads - Tigris Object Storage (via Fly.io)
# Create bucket: flyctl storage create
# Credentials are automatically set by Fly.io
BUCKET_NAME="picologs-uploads"
AWS_ACCESS_KEY_ID="tid_xxxxx"
AWS_SECRET_ACCESS_KEY="tsec_xxxxx"
AWS_ENDPOINT_URL_S3="https://fly.storage.tigris.dev"
AWS_REGION="auto"

# Public URL for Tigris bucket (custom domain recommended)
# Option 1: Custom subdomain (recommended for production)
# Add CNAME: cdn -> bucket-name.fly.storage.tigris.dev
# Configure: flyctl storage update bucket-name --custom-domain cdn.picologs.com -y
R2_PUBLIC_DOMAIN="https://cdn.picologs.com"
# Option 2: Default Tigris domain (no DNS setup required)
# R2_PUBLIC_DOMAIN="https://picologs-uploads.fly.storage.tigris.dev"

# Public URL for main website
PUBLIC_URL="https://picologs.com"

# Application
NODE_ENV="production"
PORT="3000"
ORIGIN="https://picologs.com"

# WebSocket Server Configuration
# Server-side connection for auth callback (server-to-server)
WEBSOCKET_SERVER_URL="https://ws.picologs.com"

# Client-side WebSocket connection (browser WebSocket)
# Must be prefixed with PUBLIC_ to be accessible in browser
PUBLIC_WS_URL="wss://ws.picologs.com/ws"

# CI/CD and Railway Deployment
# GitHub Personal Access Token for installing @space-man-rob/shared-svelte from GitHub Packages
# Generate at: https://github.com/settings/tokens (needs read:packages scope)
# Required for Railway builds and local development
GITHUB_TOKEN="ghp_your_github_personal_access_token_here"

# Development Example:
# DATABASE_URL="postgresql://user:password@localhost/picologs_dev"
# JWT_SECRET="dev-secret-key-at-least-32-characters-long"
# DISCORD_CLIENT_ID="1234567890123456789"
# DISCORD_CLIENT_SECRET="your-dev-discord-client-secret"
# DISCORD_REDIRECT_URI="http://localhost:5173/auth/callback"
# BUCKET_NAME="picologs-avatars-dev"
# AWS_ACCESS_KEY_ID="your-r2-access-key-id"
# AWS_SECRET_ACCESS_KEY="your-r2-secret-access-key"
# AWS_ENDPOINT_URL_S3="https://488c05b6731522d56601ff9c4d502d37.r2.cloudflarestorage.com"
# AWS_REGION="auto"
# R2_PUBLIC_DOMAIN="https://pub-xxxxx.r2.dev"
# PUBLIC_URL="http://localhost:5173"
# NODE_ENV="development"
# PORT="5173"
# ORIGIN="http://localhost:5173"
# WEBSOCKET_SERVER_URL="http://localhost:8080"
# PUBLIC_WS_URL="ws://localhost:8080/ws"
